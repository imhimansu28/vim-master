<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Neovim Mastery</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdn.jsdelivr.net/gh/alpinejs/alpine@v2.x.x/dist/alpine.min.js" defer></script>
</head>
<body x-data="neovimMastery()">
    <header>
        <h1>Neovim Mastery</h1>
    </header>
    <main>
        <template x-for="course in courses" :key="course.title">
            <section class="course">
                <h2 x-text="course.title" @click="toggle(course)"></h2>
                <div x-show="course.open">
                    <p x-text="course.description"></p>
                    <ul>
                        <template x-for="video in course.videos" :key="video.title">
                            <li>
                                <a :href="video.url" target="_blank" x-text="video.title"></a>
                            </li>
                        </template>
                    </ul>
                </div>
            </section>
        </template>
    </main>
    <script>
        function neovimMastery() {
            return {
                courses: [],
                open: false,
                toggle(course) {
                    course.open = !course.open;
                },
                init() {
                    fetch('neovim-mastery.json')
                        .then(response => response.json())
                        .then(data => {
                            this.courses = data.courses.map(course => ({...course, open: false}));
                        });
                }
            }
        }
    </script>
</body>
</html>